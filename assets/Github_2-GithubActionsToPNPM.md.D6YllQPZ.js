import{_ as s,c as a,o as p,a5 as i}from"./chunks/framework.BlKpNptw.js";const m=JSON.parse('{"title":"Github Actions æ‰“åŒ…å·¥å…·åˆ‡æ¢åˆ° pnpm","description":"Github Actions æ‰“åŒ…å·¥å…·åˆ‡æ¢åˆ°pnpm","frontmatter":{"title":"Github Actions æ‰“åŒ…å·¥å…·åˆ‡æ¢åˆ° pnpm","sticky":999,"description":"Github Actions æ‰“åŒ…å·¥å…·åˆ‡æ¢åˆ°pnpm","tag":["Github"]},"headers":[],"relativePath":"Github/2-GithubActionsToPNPM.md","filePath":"Github/2-GithubActionsToPNPM.md","lastUpdated":1761206839000}'),e={name:"Github/2-GithubActionsToPNPM.md"};function l(t,n,o,c,h,d){return p(),a("div",{"data-pagefind-body":!0,"data-pagefind-meta":"date:1761206839000"},n[0]||(n[0]=[i(`<h1 id="github-actions-æ‰“åŒ…å·¥å…·åˆ‡æ¢åˆ°-npnm" tabindex="-1">Github Actions æ‰“åŒ…å·¥å…·åˆ‡æ¢åˆ° npnm <a class="header-anchor" href="#github-actions-æ‰“åŒ…å·¥å…·åˆ‡æ¢åˆ°-npnm" aria-label="Permalink to &quot;Github Actions æ‰“åŒ…å·¥å…·åˆ‡æ¢åˆ° npnm&quot;">â€‹</a></h1><div class="warning custom-block"><p class="custom-block-title">æ³¨æ„äº‹é¡¹</p><p>å½“ä½ æäº¤ä»£ç çš„æ—¶å€™, Github ä¼šè‡ªåŠ¨éƒ¨ç½²ä»£ç ;</p><p>å½“ç„¶, å¦‚æœæ²¡æœ‰è¿›è¡Œå……åˆ†çš„æµ‹è¯•, é‚£ä¹ˆå°±ä¼š: è‡ªåŠ¨ä¸€æ—¶çˆ½, æäº¤ç«è‘¬åœº</p></div><p><strong>pnpm ç‰ˆæœ¬:</strong> 10.14.0</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre></div><h1 id="ä¸€ã€é…ç½®-github-actions" tabindex="-1">ä¸€ã€é…ç½® GitHub Actions <a class="header-anchor" href="#ä¸€ã€é…ç½®-github-actions" aria-label="Permalink to &quot;ä¸€ã€é…ç½® GitHub Actions&quot;">â€‹</a></h1><h2 id="_1-ä¸ºä»€ä¹ˆè¦ç”¨pnpm" tabindex="-1">1. ä¸ºä»€ä¹ˆè¦ç”¨pnpm <a class="header-anchor" href="#_1-ä¸ºä»€ä¹ˆè¦ç”¨pnpm" aria-label="Permalink to &quot;1. ä¸ºä»€ä¹ˆè¦ç”¨pnpm&quot;">â€‹</a></h2><p>PNPMï¼Œæ„ä¸ºé«˜æ€§èƒ½çš„NPMï¼ŒPNPMé€šè¿‡å…¶åˆ›æ–°çš„å…¨å±€å­˜å‚¨å’Œé“¾æ¥æœºåˆ¶ï¼Œæä¾›äº†ä¸€ä¸ªèŠ‚çœç£ç›˜ç©ºé—´ä¸”æ€§èƒ½å‡ºè‰²çš„åŒ…ç®¡ç†æ–¹æ¡ˆã€‚</p><h3 id="pnpmçš„å·¥ä½œæ–¹å¼" tabindex="-1">PNPMçš„å·¥ä½œæ–¹å¼ <a class="header-anchor" href="#pnpmçš„å·¥ä½œæ–¹å¼" aria-label="Permalink to &quot;PNPMçš„å·¥ä½œæ–¹å¼&quot;">â€‹</a></h3><ul><li>pnpm initï¼šåˆå§‹åŒ–ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œç±»ä¼¼äºnpm initæˆ–yarn initã€‚</li><li>pnpm install &lt;package_name&gt;ï¼šå®‰è£…åŒ…åŠå…¶ä¾èµ–ã€‚</li><li>pnpm listï¼šåˆ—å‡ºé¡¹ç›®ä¸­å®‰è£…çš„åŒ…ã€‚</li><li>pnpm remove &lt;package_name&gt;ï¼šç§»é™¤ä¸€ä¸ªåŒ…ã€‚</li><li>pnpm run &lt;script_name&gt;ï¼šè¿è¡Œpackage.jsonæ–‡ä»¶ä¸­å®šä¹‰çš„è„šæœ¬ã€‚</li></ul><h3 id="pnpmçš„ä¼˜ç‚¹" tabindex="-1">PNPMçš„ä¼˜ç‚¹ <a class="header-anchor" href="#pnpmçš„ä¼˜ç‚¹" aria-label="Permalink to &quot;PNPMçš„ä¼˜ç‚¹&quot;">â€‹</a></h3><ol><li>ç£ç›˜æ•ˆç‡ï¼šPNPMä½¿ç”¨å…¨å±€å­˜å‚¨æ–¹æ³•ï¼Œæ‰€æœ‰åŒ…åœ¨ä¸€ä¸ªåœ°æ–¹å…¨å±€å­˜å‚¨ï¼Œä¸åƒNPMæˆ–Yarné‚£æ ·ã€‚ å®‰è£…åŒ…æ—¶ï¼ŒPNPMä¼šä»å…¨å±€å­˜å‚¨ä¸­é“¾æ¥æ–‡ä»¶åˆ°é¡¹ç›®çš„node_modulesï¼Œå› æ­¤æˆ‘ä»¬ä¸éœ€è¦åœ¨æ¯ä¸ªåº”ç”¨ä¸­é‡å¤å­˜å‚¨åŒ…ï¼Œè¿™ä½¿å¾—å®ƒåœ¨ç£ç›˜ä½¿ç”¨ä¸Šéå¸¸é«˜æ•ˆã€‚</li><li>é”æ–‡ä»¶ï¼šå°½ç®¡PNPMä½¿ç”¨éå¹³é¢çš„å†…éƒ¨ç»“æ„ï¼Œä½†å®ƒé€šè¿‡ä¸€ä¸ªç§°ä¸ºé”æ–‡ä»¶ï¼ˆé€šå¸¸å‘½åä¸ºpnpm-lock.yamlï¼‰çš„æ–‡ä»¶æä¾›äº†ä¾èµ–é¡¹çš„â€œæ‰å¹³åŒ–è§†å›¾â€ã€‚</li><li>æ›´å¿«æ›´è½»ï¼šä¸NPMæˆ–YARNç›¸æ¯”ï¼ŒPNPMæ›´å¿«ã€æ›´è½»ï¼Œå› ä¸ºå®ƒåˆ©ç”¨ç¼“å­˜ï¼Œå¹¶ä¸æ˜¯æ¯æ¬¡éƒ½å®‰è£…åŒ…ã€‚ å¦‚æœåŒ…åœ¨å…¨å±€ä¸­æ‰¾åˆ°ï¼Œå®ƒå°†åœ¨è¯¥é¡¹ç›®/åº”ç”¨çš„node_moduleä¸­é™„åŠ ç¬¦å·é“¾æ¥/ç¡¬é“¾æ¥ã€‚</li></ol><h2 id="_2-ä½¿ç”¨pnpmçš„æ­¥éª¤" tabindex="-1">2. ä½¿ç”¨pnpmçš„æ­¥éª¤ <a class="header-anchor" href="#_2-ä½¿ç”¨pnpmçš„æ­¥éª¤" aria-label="Permalink to &quot;2. ä½¿ç”¨pnpmçš„æ­¥éª¤&quot;">â€‹</a></h2><p>åœ¨GitHub Actionsä¸­ä½¿ç”¨pnpmè€Œä¸æ˜¯npmä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li><p>è®¾ç½® Node.js ç¯å¢ƒï¼š åœ¨GitHub Actionå·¥ä½œæµä¸­ï¼Œé¦–å…ˆéœ€è¦ä½¿ç”¨actions/setup-nodeæ¥è®¾ç½® Node.js çš„ç¯å¢ƒã€‚</p></li><li><p>å®‰è£… pnpmï¼š Node.js ç¯å¢ƒè®¾ç½®å®Œæˆåï¼Œä¸‹ä¸€æ­¥æ˜¯å®‰è£…pnpmã€‚</p></li><li><p>ä½¿ç”¨ pnpm è¿è¡Œå‘½ä»¤ï¼š ä¸€æ—¦pnpmå®‰è£…å®Œæˆï¼Œå°±å¯ä»¥ä½¿ç”¨å®ƒæ¥å®‰è£…ä¾èµ–ã€è¿è¡Œè„šæœ¬ç­‰ã€‚</p></li></ol><h2 id="_3-ä¿®æ”¹-workflow-æ–‡ä»¶" tabindex="-1">3. ä¿®æ”¹ Workflow æ–‡ä»¶ <a class="header-anchor" href="#_3-ä¿®æ”¹-workflow-æ–‡ä»¶" aria-label="Permalink to &quot;3. ä¿®æ”¹ Workflow æ–‡ä»¶&quot;">â€‹</a></h2><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .github/workflows/deploy-cloud.yml æ–‡ä»¶ï¼š</p><p>ä½ å¯ä»¥å‚è€ƒæˆ‘çš„å·¥ä½œæµé…ç½®</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span>
<span class="line"><span> # Steps represent a sequence of tasks that will be executed as part of the job</span></span>
<span class="line"><span>    steps:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      # æ­¥éª¤ 1: æ£€å‡ºä»£ç </span></span>
<span class="line"><span>      # ä½¿ç”¨å®˜æ–¹çš„ checkout Actionï¼Œä»ä»“åº“æ£€å‡ºä»£ç </span></span>
<span class="line"><span>      - uses: actions/checkout@v4 </span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>            fetch-depth: 0 </span></span>
<span class="line"><span></span></span>
<span class="line"><span>      # æ­¥éª¤ 2: å®‰è£…pnpm</span></span>
<span class="line"><span>      - uses: pnpm/action-setup@v4</span></span>
<span class="line"><span>        name: Install pnpm</span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          version: 10.14.0 </span></span>
<span class="line"><span>          run_install: false</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      # æ­¥éª¤ 3: è®¾ç½® Node.js ç¯å¢ƒ</span></span>
<span class="line"><span>      - name: âœ…Setup Node.js</span></span>
<span class="line"><span>        # ä½¿ç”¨å®˜æ–¹çš„ Node.js Action</span></span>
<span class="line"><span>        uses: actions/setup-node@v4 </span></span>
<span class="line"><span>        with:</span></span>
<span class="line"><span>          # æŒ‡å®šä½¿ç”¨çš„ Node.js ç‰ˆæœ¬ä¸º 20</span></span>
<span class="line"><span>          node-version: 20</span></span>
<span class="line"><span>           # é»˜è®¤é…ç½®</span></span>
<span class="line"><span>          cache: pnpm</span></span>
<span class="line"><span></span></span>
<span class="line"><span>      # æ­¥éª¤ 4: å®‰è£…ä¾èµ–</span></span>
<span class="line"><span>      - name: Install Dependencies</span></span>
<span class="line"><span>        # ä½¿ç”¨ pnpm å®‰è£…é¡¹ç›®ä¾èµ–</span></span>
<span class="line"><span>        run: pnpm install </span></span>
<span class="line"><span></span></span>
<span class="line"><span>      # æ­¥éª¤ 5: æ„å»ºé¡¹ç›®</span></span>
<span class="line"><span>      - name: ğŸ”„ï¸Build</span></span>
<span class="line"><span>        # æ‰§è¡Œé¡¹ç›®çš„æ„å»ºè„šæœ¬</span></span>
<span class="line"><span>        run: pnpm run build</span></span></code></pre></div><p>è¿™ä¸ªå·¥ä½œæµç¨‹æ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªCIå·¥ä½œæµç¨‹ï¼Œåœ¨æ¯æ¬¡æ¨é€åˆ°mainåˆ†æ”¯æˆ–è€…å¯¹mainåˆ†æ”¯çš„æ‹‰å–è¯·æ±‚æ—¶è§¦å‘ã€‚</p><div class="warning custom-block"><p class="custom-block-title">æ³¨æ„äº‹é¡¹</p><p>å·¥ä½œæµåŒ…æ‹¬ï¼š</p><ol><li>é€šè¿‡actions/checkout@v4 æ£€å‡ºä»£ç ã€‚</li><li>é€šè¿‡pnpm/action-setup@v4å®‰è£…pnpm, æŒ‡å®šç‰ˆæœ¬ã€‚</li><li>ä½¿ç”¨actions/setup-node@v4 æ¥è®¾ç½® Node.js ç¯å¢ƒï¼ŒæŒ‡å®š pnpmä½œä¸ºç¼“å­˜æ–¹æ³•ã€‚</li><li>ä½¿ç”¨pnpmå®‰è£…é¡¹ç›®ä¾èµ–ã€‚</li><li>æ„å»ºé¡¹ç›®</li></ol></div><p>è¿™ä¸ªæµç¨‹ä¼šåœ¨Node.js -v20ç‰ˆæœ¬ç¯å¢ƒä¸‹è¿è¡Œï¼Œå³ 20.x ï¼Œç¡®ä¿äº†ç‰ˆæœ¬ã€‚</p><p>è¯·æ³¨æ„ï¼Œä»setup-node@v2èµ·ï¼ŒGitHub Actions æä¾›äº†å¯¹pnpmç¼“å­˜çš„åŸç”Ÿæ”¯æŒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®cacheé€‰é¡¹æ¥åˆ©ç”¨è¿™ä¸€ç‰¹æ€§ï¼Œä»¥åŠ å¿«åç»­å·¥ä½œæµçš„è¿è¡Œé€Ÿåº¦ã€‚</p>`,22)]))}const u=s(e,[["render",l]]);export{m as __pageData,u as default};
